{% extends "base.html" %}
{% block content %}

<link rel='stylesheet' type='text/css' href="{{ url_for('static', filename='css/blog.css') }}">
<title>Oof!</title>

<body class="w3-black">
    <div class="container" style="width: 66%;">
        {{ form.hidden_tag() }}
        <h2>Register</h2>
        {% for message in get_flashed_messages() %}
            <div class="alert alert-info" role="alert">
                {{ message }}
            </div>
        {% endfor %}
        <form method="post" action="{{ url_for('blog.submit_blog_post') }}" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <div class="form-group">
                {{ form.title.label(class="form-control-label") }}
                {{ form.title(class="form-control") }}
            </div>
            <div class="form-group">
                {{ form.content.label(class="form-control-label") }}
                {{ form.content(class="form-control", rows=10) }}
            </div>

            

            <div class="form-group">
                {{ form.picture.label(class="form-label") }}
                <div class="custom-file">
                    {{ form.picture(class="custom-file-input", id="customFile") }}
                    <label class="custom-file-label" for="customFile">Choose file</label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Add Post</button>
        </form>
    </div>
    
    <script>
        // Update the label text when a file is selected
        document.getElementById("customFile").addEventListener("change", function() {
            var fileName = this.value.split("\\").pop();
            this.nextElementSibling.innerHTML = fileName;
        });
    </script>
{% endblock %}
